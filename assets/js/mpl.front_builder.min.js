!function(t){mpl.front=t.extend({content:{onchanges:{},change_callback:function(t,e,n){mpl.front.content.render_section_template(e,!1),mpl.confirm(!0)},css_change_callback:function(e,n,o){var i={},l=t(e).closest(".field-css_video_background").data("name");if(l&&-1!=l.indexOf("video-background"))mpl.front.content.render_section_template(n,!1);else{var s=n.data("model"),r=(i=!0===mpl.front.cancel_value?mpl.front.stack.init_atts:mpl.tools.getFormData(n,!1)).css_custom,a=mpl.storage[s][0].args._id,c=new RegExp("(((?![,{}]).)*)"+a+"(((?!body).)*)","g"),_=mpl.front.content.render_element_css(r,a),p=mpl._$("#mpl-css-render").html().replace(c,"");mpl._$("#mpl-css-render").html(p+_)}mpl.confirm(!0)},render_section_template:function(e,n){var o={},i=e.data("model");if(o=!0===mpl.front.cancel_value?mpl.front.stack.init_atts:mpl.tools.getFormData(e,!1),void 0!==mpl.storage[i][0]&&void 0!==mpl.storage[i][0].args)for(var l in mpl.storage[i][0].args)void 0===o[l]&&(o[l]=mpl.storage[i][0].args[l]);e.find("form.fields-edit-form .mpl-param-row.relation-hidden .mpl-param").each(function(){delete o[this.name],t(this).closest(".mpl-param-row").find("input,textarea,select").val("")}),void 0!==o._id&&""!==o._id||(o._id=Math.round(1e7*Math.random()));for(var s in o)if("object"==typeof o[s]){"object"!=typeof o[s][0]&&delete o[s][0];var r=[];for(var a in o[s])r.push(o[s][a]);o[s]=r}o.refresh_data=n;for(var c=mpl._$('.mpl-content-wrap section[data-front-model="'+i+'"]'),_=mpl._$(c).attr("class").split(" ")[mpl.front.section_name_pos].split("-"),p="",m=1;m<_.length;m++)p+=""===p?_[m]:"_"+_[m];switch(p){case"section_video":case"section_banner":mpl.front.content.tpl_section_banner(o,i);break;case"section_call_to_action":mpl.front.content.tpl_section_call_to_action(o,i);break;case"section_clients":mpl.front.content.tpl_section_clients(o,i);break;case"section_contact_1":mpl.front.content.tpl_section_contact_1(o,i);break;case"section_contact_4":mpl.front.content.tpl_section_contact_4(o,i);break;case"section_contact_5":mpl.front.content.tpl_section_contact_5(o,i);break;case"section_counter":mpl.front.content.tpl_section_counter(o,i);break;case"section_custom":mpl.front.content.tpl_section_custom(o,i);break;case"section_events":mpl.front.content.tpl_section_events(o,i);break;case"section_features":mpl.front.content.tpl_section_features(o,i);break;case"section_facebook":mpl.front.content.tpl_section_facebook(o,i);break;case"section_gallery":mpl.front.content.tpl_section_gallery(o,i);break;case"section_html":mpl.front.content.tpl_section_html(o,i);break;case"google_map":mpl.front.content.tpl_section_google_map(o,i);break;case"section_post":mpl.front.content.tpl_section_post(o,i);break;case"section_post_2":mpl.front.content.tpl_section_post_2(o,i);break;case"section_portfolio":mpl.front.content.tpl_section_portfolio(o,i);break;case"section_promo":mpl.front.content.tpl_section_promo(o,i);break;case"section_promo_2":mpl.front.content.tpl_section_promo2(o,i);break;case"section_pricing":mpl.front.content.tpl_section_pricing(o,i);break;case"section_pricing_2":mpl.front.content.tpl_section_pricing_2(o,i);break;case"section_service":mpl.front.content.tpl_section_service(o,i);break;case"section_service_4":mpl.front.content.tpl_section_service_4(o,i);break;case"section_service_5":mpl.front.content.tpl_section_service_5(o,i);break;case"section_showcase":mpl.front.content.tpl_section_showcase(o,i);break;case"section_skills":mpl.front.content.tpl_section_skills(o,i);break;case"section_skills_2":mpl.front.content.tpl_section_skills_2(o,i);break;case"section_slider":mpl.front.content.tpl_section_slider(o,i);break;case"section_team":mpl.front.content.tpl_section_team(o,i);break;case"section_testimonials":mpl.front.content.tpl_section_testimonials(o,i);break;case"section_woocommerce":mpl.front.content.tpl_section_woocommerce(o,i)}},render_video_background:function(t,e){var n="",o="",i="";if(""===t)return n;if(screens=JSON.parse(t.replace(/`/g,'"')),!screens["mpl-css"])return n;Object.keys(screens["mpl-css"]).sort(function(t,e){return t<e});for(var l in screens["mpl-css"]){var s=screens["mpl-css"][l];for(var r in s){var a=s[r];for(var c in a)if(o=a[c],"video-background"==c.split("|")[0]){var _=mpl.tools.base64.decode(o),p=JSON.parse(_);if("yes"!=p.enable_video_bg&&"1"!=p.enable_video_bg)return n;n='data-property="{';var m=".mpl-css-"+e;"youtube"==p.video_type?(n+="videoURL:'"+p.video_url+"',",i="mpl-youtube-video"):"vimeo"==p.video_type?(n+="videoURL:'"+p.video_url+"',",i="mpl-vimeo-video"):"html5"==p.video_type?(n+="mp4URL:'"+p.mp4_url+"',",n+="ogvURL:'"+p.ogv_url+"',",n+="webmURL:'"+p.webm_url+"',",i="mpl-html5-video"):n+="",n+="containment:'"+m+"',showControls:false",n+=",autoPlay:true","1"!=p.video_loop&&"yes"!=p.video_loop||(n+=",loop:true"),"1"!==p.video_mute&&"yes"!==p.video_mute&&(n+=",mute:false"),void 0!==p.start_time&&""!==p.start_time&&(n+=",startAt:"+p.start_time),void 0!==p.stop_time&&""!==p.stop_time&&(n+=",stopAt:"+p.stop_time),n='<div id="bgndVideo" class="player '+i+'" '+(n+=",opacity:1,addRaster:true,quality:'default'}\"")+"></div>"}}}return n},render_element_css:function(t,e){var n="",o="",i={margin:["margin-top","margin-right","margin-bottom","margin-left"],padding:["padding-top","padding-right","padding-bottom","padding-left"],"border-radius":["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]};if(screens=JSON.parse(t.replace(/`/g,'"')),screens["mpl-css"]){Object.keys(screens["mpl-css"]).sort(function(t,e){return t<e});for(var l in screens["mpl-css"]){var s=screens["mpl-css"][l],r=[],a="";for(var c in s){var _=s[c];for(var p in _){o=_[p];var m,d=[];if(m="gap"==(w=p.split("|"))[0]?"":"body.mpl-css-system ",""!==w[1]){var u=w[1].split(",");for(var f in u)0===(f=mpl.tools.unesc(u[f])).trim().indexOf("+")?f=f.trim().substr(1):0!==f.trim().indexOf(":")&&(f=" "+f.trim()),d.push(m+".mpl-css-"+e+f);d=d.join(",")}else d="gap"==w[0]?"#page .mpl-css-"+e:m+".mpl-css-"+e;if(gap_selector=m+".mpl-css-"+e+">.mpl-wrap-columns",void 0===r[d]&&(r[d]=[]),void 0===r[gap_selector]&&(r[gap_selector]=[]),i[w[0]]&&o.indexOf("inherit")){o=o.split(" ");for(var g=0;g<4;g++)o[g]&&"inherit"!=o[g].trim()&&(o[4]&&(o[g]+=" "+o[4]),r[d].push(i[w[0]][g]+": "+o[g]))}else if("gap"==w[0])parseInt(o,10)<0&&(o="0px"),r[d].push("padding-left: "+o+";padding-right: "+o),r[gap_selector].push("margin-left: -"+o+";margin-right: -"+o+";width: calc(100% + "+2*parseInt(o,10)+"px)");else if("border"==w[0])if(-1!==o.indexOf("|")){var b="";o=o.split("|"),bmap=["top","right","bottom","left"];for(var v=0;v<4;v++)o[v]&&""!==o[v]&&(b+="border-"+bmap[v]+": "+o[$cj]+";");r[d].push(b)}else r[d].push(w[0]+": "+o);else if("custom"==w[0])o=(o=o.replace(/[\"\'\[\]]/g,"").trim()+"{{{end}}}").replace(/;{{{end}}}/g,"").replace(/{{{end}}}/g,""),r[d].push(o);else if("background"==w[0]){var h={color:"transparent",linearGradient:["",""],image:"none",position:"0% 0%",size:"auto",repeat:"repeat",attachment:"scroll",advanced:0,parallax_scrolling:"no"},k="",y=mpl.tools.base64.decode(o),x=JSON.parse(y);x?("yes"==(h=Object.assign(h,x)).parallax_scrolling?mpl._$(d).addClass("mpl-parallax-scrolling"):mpl._$(d).removeClass("mpl-parallax-scrolling"),""!==h.linearGradient[0]&&(-1!==h.linearGradient[0].indexOf("deg")?h.linearGradient[1]&&""!==h.linearGradient[1]&&(h.linearGradient[2]&&""!==h.linearGradient[2]||(h.linearGradient[2]=h.linearGradient[1])):h.linearGradient[1]&&""!==h.linearGradient[1]||(h.linearGradient[1]=h.linearGradient[0]),h.linearGradient=h.linearGradient.join(", "),h.linearGradient=h.linearGradient.replace(/\, \,/g,", "),k+="linear-gradient("+h.linearGradient+")"),"transparent"!=h.color&&""!==h.color&&(k+=""===k?h.color:", "+h.color),"none"!=h.image&&""!==h.image&&(""===k?k+=h.color:"transparent"!=h.color&&""!==h.color||(k+=", transparent"),k+=" url("+h.image+") "+h.position+"/"+h.size+" "+h.repeat+" "+h.attachment),""!==k&&r[d].push(w[0]+": "+k)):""!==o&&r[d].push(w[0]+": "+o)}else r[d].push(w[0]+": "+o)}}for(var w in r){var O=r[w];""!==O&&(a+=w+"{"+O.join(";").replace(/[\{\}]/g,"")+";}")}"any"!=l?-1===l.indexOf("-")?"@media only screen and (max-width: "+l.trim()+"px){"+a+"}":(screenx=l.split("-"),"@media only screen and (min-width: "+screenx[0].trim()+"px) and (max-width: "+screenx[1].trim()+"px){"+a+"}"):n+=a,n+=a}}return mpl.tools.filter_images(n)},update_section_to_body:function(e,n){if(e){var o=mpl._$('.mpl-content-wrap section[data-front-model="'+n+'"]'),i=mpl._$(e).attr("data-front-model",n);mpl._$(o).replaceWith(i),t("#mpl-live-frame").get(0).contentWindow.mpl_front.refresh('.mpl-content-wrap section[data-front-model="'+n+'"]'),mpl.front.addToolsListener()}},tpl_common_params:function(t,e){var n=[],o="";if(t.refresh_data=e.refresh_data,e.css_custom&&""!==e.css_custom&&(o=mpl.front.content.render_video_background(e.css_custom,e._id)),t.video_background=o,n.push("mpl-elm"),e._id&&n.push("mpl-css-"+e._id),e.css&&n.push(e.css),e.section_class&&n.push(e.section_class),t.section_class=n.join(" "),t.section_id=e.section_id?e.section_id:"",t.section_title=e.section_title?e.section_title:"",t.section_subtitle=e.section_subtitle?e.section_subtitle:"","yes"==e.fullheight?t.fullheight="mpl-fullheight":e.slider_css?t.section_height='style="height:'+e.slider_css+'px;"':e.section_height&&(t.section_height='style="height:'+e.section_height+'px;"'),t.carousel="",t.owl_options="",t.owl_nav_style="",e.carousel&&"yes"==e.carousel){var i={};i.items=e.columns?e.columns:"1",i.speed=e.owl_speed?e.owl_speed:"",i.navigation=e.owl_navigation?e.owl_navigation:"",i.pagination=e.owl_pagination?e.owl_pagination:"",i.auto_height=e.owl_auto_height?e.owl_auto_height:"",i.auto_play=e.owl_auto_play?e.owl_auto_play:"",t.carousel="yes",t.owl_options="data-owl-options='"+JSON.stringify(i)+"'",t.owl_nav_style="",e.navigation&&"yes"===e.navigation&&(t.owl_nav_style="owl-nav-"+e.owl_nav_style)}},tpl_section_banner:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.content_align=t.content_align?"text-"+t.content_align:"",n.title_style=t.title_style?t.title_style:"",n.btn_text_1=t.btn_text_1?t.btn_text_1:"",n.btn_text_2=t.btn_text_2?t.btn_text_2:"",t.btn_link_1&&""!==t.btn_link_1?(n.link_url_1=t.btn_link_1.split("||")[0]?t.btn_link_1.split("||")[0]:"#",n.link_target_1=t.btn_link_1.split("||")[1]?t.btn_link_1.split("||")[1]:""):(n.link_url_1="#",n.link_target_1=""),t.btn_link_2&&""!==t.btn_link_2?(n.link_url_2=t.btn_link_2.split("||")[0]?t.btn_link_2.split("||")[0]:"#",n.link_target_2=t.btn_link_2.split("||")[1]?t.btn_link_2.split("||")[1]:""):(n.link_url_2="#",n.link_target_2=""),t.social_icons.length>0?n.enable_social_icon="yes":n.enable_social_icon="",n.social_icons=[];for(var i=0,l=t.social_icons.length;i<l;i++){var s={};if(s.icon=t.social_icons[i].icon_name,t.social_icons[i].icon_link){var r=t.social_icons[i].icon_link.split("|");r[0]&&(s.link_url=r[0]),r[1]&&(s.link_title=r[1]),r[2]&&(s.link_target=r[2])}else s.link_url="#",s.link_title="",s.link_target="#";n.social_icons.push(s)}o=template("section_banner",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_call_to_action:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.title=t.title?t.title:"",n.content=t.content?t.content:"",n.text_align=t.text_align?t.text_align:"",n.btn_text=t.btn_text?t.btn_text:"",t.btn_link&&""!==t.btn_link?(n.link_url=t.btn_link.split("||")[0]?t.btn_link.split("||")[0]:"",n.link_target=t.btn_link.split("||")[1]?t.btn_link.split("||")[1]:""):(n.link_url="",n.link_target=""),"left"==t.btn_position?o=template("section_call_to_action_style1",n):"right"==t.btn_position?o=template("section_call_to_action_style2",n):"top"==t.btn_position?o=template("section_call_to_action_style3",n):"bottom"==t.btn_position&&(o=template("section_call_to_action_style4",n)),mpl.front.content.update_section_to_body(o,e)},tpl_section_clients:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.client=[];for(var i=0;i<t.client.length;i++){var l={};l.image=t.client[i].image?t.client[i].image:"",l.link=t.client[i].link?t.client[i].link:"",l.target=t.client[i].target?t.client[i].target:"",n.client.push(l)}o=template("section_clients",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_contact_1:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.contact_name=t.contact_info_title?t.contact_info_title:"",n.contact_address=t.contact_address?t.contact_address:"",n.contact_email=t.contact_email?t.contact_email:"",n.contact_phone=t.contact_phone?t.contact_phone:"",n.contact_receiver=t.contact_receiver?t.contact_receiver:"",n.button_text=t.button_text?t.button_text:"",o=template("contact_style_1",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_contact_4:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.contact_name=t.contact_info_title?t.contact_info_title:"",n.contact_address=t.contact_address?t.contact_address:"",n.contact_email=t.contact_email?t.contact_email:"",n.contact_phone=t.contact_phone?t.contact_phone:"",n.contact_receiver=t.contact_receiver?t.contact_receiver:"",n.button_text=t.button_text?t.button_text:"",o=template("contact_style_4",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_contact_5:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.contact_name=t.contact_info_title?t.contact_info_title:"",n.contact_address=t.contact_address?t.contact_address:"",n.contact_email=t.contact_email?t.contact_email:"",n.contact_phone=t.contact_phone?t.contact_phone:"",n.contact_receiver=t.contact_receiver?t.contact_receiver:"",n.button_text=t.button_text?t.button_text:"",o=template("contact_style_5",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_counter:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.counter=[];for(var i=0;i<t.counter.length;i++){var l={};l.number=t.counter[i].number?t.counter[i].number:"",l.title=t.counter[i].title?t.counter[i].title:"",n.counter.push(l)}o=template("section_counter",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_custom:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.content=t.content,o=template("section_custom",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_features:function(t,e){var n,o={},i="",l={};mpl.front.content.tpl_common_params(o,t),o.feature_image=t.feature_image?t.feature_image:"",t.icon_shape&&"none"!=t.icon_shape?o.icon_shape=t.icon_shape?t.icon_shape:"square":o.icon_shape="",o.features_left=[];var s=Math.ceil(t.feature.length/2),r=t.feature.length;for(n=0;n<s;n++)(l={}).icon=t.feature[n].icon?t.feature[n].icon:"fa-coffee",l.icon_color=t.feature[n].icon_color?t.feature[n].icon_color:"#595959",l.link_url=t.feature[n].title_link.split("||")[0]?t.feature[n].title_link.split("||")[0]:"",l.link_target=t.feature[n].title_link.split("||")[1]?t.feature[n].title_link.split("||")[1]:"",l.title=t.feature[n].title?t.feature[n].title:"",l.description=t.feature[n].description?t.feature[n].description:"",o.features_left.push(l);for(o.features_right=[],n=s;n<r;n++)(l={}).icon=t.feature[n].icon?t.feature[n].icon:"fa-coffee",l.icon_color=t.feature[n].icon_color?t.feature[n].icon_color:"#595959",l.link_url=t.feature[n].title_link.split("||")[0]?t.feature[n].title_link.split("||")[0]:"",l.link_target=t.feature[n].title_link.split("||")[1]?t.feature[n].title_link.split("||")[1]:"",l.title=t.feature[n].title?t.feature[n].title:"",l.description=t.feature[n].description?t.feature[n].description:"",o.features_right.push(l);i=template("section_features",o),mpl.front.content.update_section_to_body(i,e)},tpl_section_gallery:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",t.section_lightbox&&"yes"==t.section_lightbox?n.lightbox="yes":n.lightbox="",t.fullwidth&&"yes"==t.fullwidth?n.container="mpl-container-fullwidth":n.container="mpl-container",n.items=[];for(var i=0;i<t.items.length;i++){var l={};l.image=t.items[i].image?t.items[i].image:"",l.link=t.items[i].link?t.items[i].link:"",n.items.push(l)}o=template("section_gallery",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_html:function(e,n){var o={},i="";mpl.front.content.tpl_common_params(o,e),o.content=e.content,i=template("section_html",o),t.ajax({url:mpl_ajax_url,method:"POST",dataType:"html",data:{action:"mpl_do_shortcode",content:i,echo:!0},success:function(t){mpl.front.content.update_section_to_body(t,n)},error:function(){mpl.front.content.update_section_to_body(i,n)}})},tpl_section_google_map:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),t.slider_css="",t.map_height&&""!==t.map_height&&parseInt(t.map_height,10)>0&&(t.slider_css='style="height:'+parseInt(t.map_height,10)+'px;"'),t.fullwidth&&"yes"==t.fullwidth?n.container="mpl-container-fullwidth":n.container="mpl-container",t.animation&&"yes"==t.animation?n.animation="true":n.animation="false",n.embed_map=t.embed_map.replace(/width="\d+"/i,'width="100%"').replace(/height="\d+"/i,'height="'+parseInt(t.map_height,10)+'"'),o=template("section_google_map",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_portfolio:function(e,n){var o={},i="",l={};mpl.front.content.tpl_common_params(o,e),o.columns=e.columns?e.columns:"",o.filter=e.filter?e.filter:"",e.fullwidth&&"yes"==e.fullwidth?o.container="mpl-container-fullwidth":o.container="mpl-container",e.no_padding&&"yes"==e.no_padding?o.full="full":o.full="",o.i18n_all="All",l.post_taxonomy="mpl-portfolio-category",l.order_by=e.order_by?e.order_by:"",l.order_list=e.order_list?e.order_list:"",l.number_post=e.number_post?e.number_post:"",l.thumbnail="yes",l.image_size="full",l.show_date="",l.wrap_class="",l.post_type="mpl-portfolio",l.pagination="";var s=JSON.stringify(l);t.ajax({url:mpl_ajax_url,method:"POST",dataType:"html",data:{action:"mpl_get_recent_posts_data",request_json:s},success:function(t){response_data=JSON.parse(t),o.posts=response_data.data,o.categories=response_data.categories,i=template("section_portfolio",o),mpl.front.content.update_section_to_body(i,n)}})},tpl_section_post:function(e,n){var o={},i="",l={};mpl.front.content.tpl_common_params(o,e),o.columns=e.columns?e.columns:"",l.post_taxonomy="post",l.order_by=e.order_by?e.order_by:"",l.order_list=e.order_list?e.order_list:"",l.number_post=e.number_post?e.number_post:"",l.thumbnail=e.thumbnail?e.thumbnail:"",l.image_size=e.image_size?e.image_size:"",l.show_date=e.show_date?e.show_date:"";var s=JSON.stringify(l);t.ajax({url:mpl_ajax_url,method:"POST",dataType:"html",data:{action:"mpl_get_recent_posts_data",request_json:s},success:function(t){response_data=JSON.parse(t),o.posts=response_data.data,i=template("section_post",o),mpl.front.content.update_section_to_body(i,n)}})},tpl_section_post_2:function(e,n){var o={},i="",l={};e.carousel="yes",mpl.front.content.tpl_common_params(o,e),l.post_taxonomy="post",l.order_by=e.order_by?e.order_by:"",l.order_list=e.order_list?e.order_list:"",l.number_post=e.number_post?e.number_post:"",l.thumbnail=e.thumbnail?e.thumbnail:"",l.image_size=e.image_size?e.image_size:"",l.show_date=e.show_date?e.show_date:"";var s=JSON.stringify(l);t.ajax({url:mpl_ajax_url,method:"POST",dataType:"html",data:{action:"mpl_get_recent_posts_data",request_json:s},success:function(t){response_data=JSON.parse(t),o.posts=response_data.data,i=template("section_post_2",o),mpl.front.content.update_section_to_body(i,n)}})},tpl_section_pricing:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.items=[];for(var i=0;i<t.items.length;i++){var l={};if(t.items[i].featured&&"yes"===t.items[i].featured?(l.featured="mpl-featured",l.dark="dark"):(l.featured="",l.dark=""),l.title=t.items[i].title?t.items[i].title:"",l.currency=t.items[i].currency?t.items[i].currency:"",l.price=t.items[i].price?t.items[i].price:"",l.unit=t.items[i].unit?t.items[i].unit:"",l.list="",t.items[i].list&&""!==t.items[i].list)for(var s=t.items[i].list.split("\n"),r=0,a=s.length;r<a;r++)l.list+="<li>"+s[r]+"</li>";l.btn_text=t.items[i].btn_text?t.items[i].btn_text:"",t.items[i].btn_link&&""!==t.items[i].btn_link?(l.btn_link=t.items[i].btn_link.split("||")[0]?t.items[i].btn_link.split("||")[0]:"",l.btn_target=t.items[i].btn_link.split("||")[1]?t.items[i].btn_link.split("||")[1]:""):(l.btn_link="",l.link_target=""),n.items.push(l)}o=template("section_pricing",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_pricing_2:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.items=[];for(var i=0;i<t.items.length;i++){var l={};if(t.items[i].featured&&"yes"===t.items[i].featured?(l.featured="mpl-featured",l.dark="dark"):(l.featured="",l.dark=""),l.title=t.items[i].title?t.items[i].title:"",l.icon=t.items[i].icon?t.items[i].icon:"fa-diamond",l.currency=t.items[i].currency?t.items[i].currency:"",l.price=t.items[i].price?t.items[i].price:"",l.unit=t.items[i].unit?t.items[i].unit:"",l.list="",t.items[i].list&&""!==t.items[i].list)for(var s=t.items[i].list.split("\n"),r=0,a=s.length;r<a;r++)l.list+="<li>"+s[r]+"</li>";l.btn_text=t.items[i].btn_text?t.items[i].btn_text:"",t.items[i].btn_link&&""!==t.items[i].btn_link?(l.btn_link=t.items[i].btn_link.split("||")[0]?t.items[i].btn_link.split("||")[0]:"",l.btn_target=t.items[i].btn_link.split("||")[1]?t.items[i].btn_link.split("||")[1]:""):(l.btn_link="",l.link_target=""),n.items.push(l)}o=template("section_pricing_2",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_promo:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.content_position=t.content_position?t.content_position:"",n.image_align=t.image_align?"text-"+t.image_align:"",n.image=t.image?t.image:"",n.desc=t.desc?t.desc:"",n.button_text=t.button_text?t.button_text:"",n.link_url=t.link_url?t.link_url:"",n.link_target=t.link_target?t.link_target:"",o=template("section_promo",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_promo2:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.image=t.image?t.image:"",n.image_align=t.image_align?t.image_align:"",n.desc=t.desc?t.desc:"",n.button_text=t.button_text?t.button_text:"",n.link_url=t.button_link.split("||")[0]?t.button_link.split("||")[0]:"",n.link_target=t.button_link.split("||")[1]?t.button_link.split("||")[1]:"";var i=t.layout&&""!==t.layout?t.layout:"left";"left"==i?o=template("section_promo2_style1",n):"right"==i?o=template("section_promo2_style2",n):"top"==i?o=template("section_promo2_style3",n):"bottom"==i&&(o=template("section_promo2_style4",n)),mpl.front.content.update_section_to_body(o,e)},tpl_section_service:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.services=[];var i=t.icon_type?t.icon_type:"icon",l=t.image_width?t.image_width:"100";n.image_margin_left="icon"==i?"":'style="margin-left:'+(Number(l)+20)+'px;"';for(var s=0;s<t.services.length;s++){var r={},a=t.services[s].icon?t.services[s].icon:"fa-coffee",c="",_="",p=t.services[s].icon_color?t.services[s].icon_color:"#595959",m=t.services[s].image?t.services[s].image:"#";"icon"==i?(t.icon_shape&&"none"==t.icon_shape?(_="color",c=""):(_="background-color",c=t.icon_shape),r.icon_html='<i class="fa '+a+" "+c+'" style="'+_+":"+p+';"></i>'):r.icon_html='<image style="width:'+l+'px;" src="'+m+'">',r.icon_color=p,r.link_url=t.services[s].title_link.split("||")[0]?t.services[s].title_link.split("||")[0]:"",r.link_target=t.services[s].title_link.split("||")[1]?t.services[s].title_link.split("||")[1]:"",r.title=t.services[s].title?t.services[s].title:"",r.description=t.services[s].description?t.services[s].description:"",n.services.push(r)}"1"==t.layout?o=template("section_service_1",n):"2"==t.layout?o=template("section_service_2",n):"3"==t.layout&&(o=template("section_service_3",n)),mpl.front.content.update_section_to_body(o,e)},tpl_section_service_4:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.services=[];for(var i=0;i<t.services.length;i++){var l={},s=t.services[i].icon?t.services[i].icon:"fa-coffee",r=t.services[i].icon_color?t.services[i].icon_color:"#595959";l.icon_html='<i class="fa '+s+' circle" style="background-color:'+r+';"></i>',l.icon_color=r,l.link_url=t.services[i].title_link.split("||")[0]?t.services[i].title_link.split("||")[0]:"",l.link_target=t.services[i].title_link.split("||")[1]?t.services[i].title_link.split("||")[1]:"",l.title=t.services[i].title?t.services[i].title:"",l.description=t.services[i].description?t.services[i].description:"",n.services.push(l)}o=template("section_service_4",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_service_5:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.services=[];for(var i=0;i<t.services.length;i++){var l={},s=t.services[i].icon?t.services[i].icon:"fa-coffee",r=t.services[i].icon_color?t.services[i].icon_color:"#595959";l.icon_html='<i class="fa '+s+'" style="color:'+r+';"></i>',l.icon_color=r,l.link_url=t.services[i].title_link.split("||")[0]?t.services[i].title_link.split("||")[0]:"",l.link_target=t.services[i].title_link.split("||")[1]?t.services[i].title_link.split("||")[1]:"",l.title=t.services[i].title?t.services[i].title:"",l.description=t.services[i].description?t.services[i].description:"",n.services.push(l)}o=template("section_service_5",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_showcase:function(t,e){var n={},o="";t.carousel="yes",t.columns=4,t.owl_speed=500,t.owl_navigation=!1,t.owl_pagination=!0,t.owl_auto_height=!0,t.owl_auto_play=!0,mpl.front.content.tpl_common_params(n,t),n.desc=t.desc?t.desc:"",n.button_text=t.button_text?t.button_text:"",t.title_link?(n.button_link=t.title_link.split("||")[0]?t.title_link.split("||")[0]:"",n.button_target=t.title_link.split("||")[1]?t.title_link.split("||")[1]:""):(n.button_link="",n.button_target=""),n.gallery=[];for(var i=0;i<t.gallery.length;i++){var l={};l.image=t.gallery[i].image?t.gallery[i].image:"",l.title=t.gallery[i].title?t.gallery[i].title:"",l.description=t.gallery[i].description?t.gallery[i].description:"",n.gallery.push(l)}o=template("section_showcase",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_skills:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.items=[];for(var i=0;i<t.items.length;i++){var l={};l.i=i,l.percent=t.items[i].percent?t.items[i].percent:"0",l.barcolor=t.items[i].barcolor?t.items[i].barcolor:"#f33b3d",l.title=t.items[i].title?t.items[i].title:"",l.desc=t.items[i].desc?t.items[i].desc:"",n.items.push(l)}o=template("section_skills",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_skills_2:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.left_promo=t.left_promo?t.left_promo:"",n.btn_text=t.btn_text?t.btn_text:"",t.btn_link&&""!==t.btn_link?(n.btn_link=t.btn_link.split("||")[0]?t.btn_link.split("||")[0]:"",n.btn_target=t.btn_link.split("||")[1]?t.btn_link.split("||")[1]:""):(n.btn_link="",n.btn_target=""),n.items=[];for(var i=0;i<t.items.length;i++){var l={};l.title=t.items[i].title?t.items[i].title:"",l.percent=t.items[i].percent?t.items[i].percent:"0",n.items.push(l)}o=template("section_skills_2",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_slider:function(t,e){var n={},o="";t.carousel="yes",t.owl_navigation="yes",t.owl_nav_style="arrow",mpl.front.content.tpl_common_params(n,t),n.mpl_slider=t.slides.length>1?"mpl-slider":"",n.sliders=[];for(var i=0;i<t.slides.length;i++){var l={};l.image=t.slides[i].image?t.slides[i].image:"",l.title=t.slides[i].title?t.slides[i].title:"",l.title_style=t.slides[i].title_style?t.slides[i].title_style:"",l.subtitle=t.slides[i].subtitle?t.slides[i].subtitle:"",l.content_align=t.slides[i].content_align?t.slides[i].content_align:"",l.btn_text_1=t.slides[i].btn_text_1?t.slides[i].btn_text_1:"",l.btn_text_2=t.slides[i].btn_text_2?t.slides[i].btn_text_2:"",t.slides[i].btn_link_1&&""!==t.slides[i].btn_link_1?(l.link_url_1=t.slides[i].btn_link_1.split("||")[0]?t.slides[i].btn_link_1.split("||")[0]:"#",l.link_target_1=t.slides[i].btn_link_1.split("||")[1]?t.slides[i].btn_link_1.split("||")[1]:""):(l.link_url_1="#",l.link_target_1=""),t.slides[i].btn_link_2&&""!==t.slides[i].btn_link_2?(l.link_url_2=t.slides[i].btn_link_2.split("||")[0]?t.slides[i].btn_link_2.split("||")[0]:"#",l.link_target_2=t.slides[i].btn_link_2.split("||")[1]?t.slides[i].btn_link_2.split("||")[1]:""):(l.link_url_2="#",l.link_target_2=""),n.sliders.push(l)}o=template("section_slider",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_team:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.persons=[];for(var i=0;i<t.persons.length;i++){var l={};l.image=t.persons[i].image?t.persons[i].image:"",l.name=t.persons[i].name?t.persons[i].name:"",l.title=t.persons[i].title?t.persons[i].title:"",l.desc=t.persons[i].desc?t.persons[i].desc:"",l.social_1=t.persons[i].social_1?t.persons[i].social_1:"",l.social_2=t.persons[i].social_2?t.persons[i].social_2:"",l.social_3=t.persons[i].social_3?t.persons[i].social_3:"",l.social_4=t.persons[i].social_4?t.persons[i].social_4:"",l.social_1_link=t.persons[i].social_1_link.split("||")[0]?t.persons[i].social_1_link.split("||")[0]:"",l.social_2_link=t.persons[i].social_2_link.split("||")[0]?t.persons[i].social_2_link.split("||")[0]:"",l.social_3_link=t.persons[i].social_3_link.split("||")[0]?t.persons[i].social_3_link.split("||")[0]:"",l.social_4_link=t.persons[i].social_4_link.split("||")[0]?t.persons[i].social_4_link.split("||")[0]:"",n.persons.push(l)}o=template("section_team",n),mpl.front.content.update_section_to_body(o,e)},tpl_section_testimonials:function(t,e){var n={},o="";mpl.front.content.tpl_common_params(n,t),n.columns=t.columns?t.columns:"",n.testimonials=[];for(var i=0;i<t.testimonials.length;i++){var l={};l.image=t.testimonials[i].image?t.testimonials[i].image:"",l.name=t.testimonials[i].name?t.testimonials[i].name:"",l.title=t.testimonials[i].title?t.testimonials[i].title:"",l.desc=t.testimonials[i].desc?t.testimonials[i].desc:"",n.testimonials.push(l)}o="1"==t.layout?template("section_testimonials_1",n):"2"==t.layout?template("section_testimonials_2",n):"3"==t.layout?template("section_testimonials_3",n):"",mpl.front.content.update_section_to_body(o,e)},tpl_section_woocommerce:function(e,n){var o={},i="";mpl.front.content.tpl_common_params(o,e);var l="[recent_products";e.per_page&&""!==e.per_page&&(l+=" per_page="+e.per_page),e.columns&&""!==e.columns&&(l+=" columns="+e.columns),e.orderby&&""!==e.orderby&&(l+=" orderby="+e.orderby),e.order&&""!==e.order&&(l+=" order="+e.order),l+="]",t.ajax({url:mpl_ajax_url,method:"POST",dataType:"html",data:{action:"mpl_front_section_data",shortcode:l},success:function(t){o.woocommerce=t,i=template("section_woocommerce",o),mpl.front.content.update_section_to_body(i,n)}})}}},mpl.front),mpl.front=t.extend({model:1,id:null,cancel_value:!1,save_value:!1,section_name_pos:0,section_css_pos:2,frame:null,init:function(){if("undefined"!=typeof mpl_maps){mpl.frontend="yes",mpl.tags=shortcode_tags,mpl.maps=mpl_maps,t("#wpadminbar,#wpfooter,#adminmenuwrap,#adminmenuback,#adminmenumain,#screen-meta,.notice").remove(),mpl._$=t("#mpl-live-frame").get(0).contentWindow.jQuery,mpl._$(".mpl-content-wrap .mpl-elm").each(function(e){t(this).attr("data-front-model",++e)});var e=mpl.tools.base64.decode(mpl_post_content);e.indexOf("[mpl_row")>0&&(e=e.substring(e.indexOf("[mpl_row")),(e=mpl.tools.reverse(e)).indexOf("]wor_lpm/[")>0&&(e=e.substring(e.indexOf("]wor_lpm/["))),e=mpl.tools.reverse(e)),e&&""!==e&&mpl.params.process_rows(e),mpl.front.addToolsListener(),mpl.trigger({el:t("#mpladminbar .mpl-bar-right"),events:{".desktop:click":"desktop_szie",".tablet:click":"tablet_szie",".mobile:click":"mobile_szie",".page_options:click":"page_options",".remove:click":"remove",".import:click":mpl.views.builder.sections,".add:click":mpl.backbone.add,".save:click":"save",".exit:click":"exit"},desktop_szie:function(){t("#mpl-live-frame").css("left",0).width(t(window).width()).show()},tablet_szie:function(){t("#mpl-live-frame").css("left",t(window).width()/2-400).width(800).show()},mobile_szie:function(){t("#mpl-live-frame").css("left",t(window).width()/2-240).width(480).show()},remove:function(){mpl.msgbox("Are you sure you want to remove all sections?",function(){mpl._$("#mpl-css-render").html(""),mpl._$(".mpl-content-wrap").children().each(function(){mpl._$(this).remove(),mpl.front.model=1,mpl.front.id=null})})},exit:function(t){window.location=mpl_post_url},save:function(){mpl.front.submit()},page_options:function(t){mpl.views.builder.post_settings(t)}})}},backbone:{double:function(e,n){if(void 0===e)return!1;var o,i=void 0!==e.tagName?e:this,l=mpl.front.get.front_model(i),s=mpl.storage[l][2],r=t().extend(!0,{},s),a=["mpl_column","mpl_column_inner"].indexOf(s.name)>-1;if(r.args._id=Math.round(1e6*Math.random()),void 0===n)var n=mpl.front.export(l);if("mpl_column_text"!=s.name&&(r.args.content=mpl.params.process_alter(n.content,s.name)),r.model=mpl.model++,"mpl_row"==s.name)mpl.views.row.render(r,!0);else if("mpl_column"==s.name)mpl.views.column.render(r,!0);else if(mpl.tags.indexOf(r.name)){try{o=mpl.maps[r.name].views.type}catch(t){o=r.name}"object"==typeof mpl.views[o]?mpl.views[o].render(r):mpl.views.mpl_element.render(r)}else mpl.views.mpl_undefined.render({args:{content:r.content},name:"mpl_undefined",end:"[/mpl_undefined]",full:r.content});return a&&mpl.views.column.reset_view(i.parent()),mpl.ui.sortInit(),r.args._id}},ui:{elements:{edit:function(e){var n=mpl.backbone.settings(e);setTimeout(function(){mpl.front.stack.init_atts=mpl.tools.getFormData(n,!1)},1e3),n?(t(this).closest(".mpl-element").addClass("editting"),n.data({cancel:function(e){t(e.data("button")).closest(".mpl-element").removeClass("editting")},after_callback:function(e){var n=e.data("model"),o=mpl.storage[n][0],i=t().extend({},mpl.maps._std),l=t("#model-"+n);i=t().extend(i,mpl.maps[o.name]),l.find(">.admin-view").remove(),l.append(mpl.params.admin_label.render({map:i,params:o,el:l})),mpl.front.content.render_section_template(e,!0)}}),mpl.tools.popup.callback(n,{change:mpl.front.content.change_callback,css_change:mpl.front.content.css_change_callback})):alert(mpl.__.i43)}}},get:{front_model:function(t){return mpl._$(t).closest(".mpl-elm").attr("data-front-model")}},stack:{init_atts:null,init_css:{}},submit:function(){t("#mpl-page-cfg-mode").val(mpl.cfg.mode),t("#mpl-container").find("form,input,select,textarea").remove();var e="";mpl.msg(mpl.__.processing,"loading"),document.raw_title=document.title,document.title="Saving...",mpl._$(".mpl-elm").each(function(){var t=mpl._$(this).attr("data-front-model"),n=mpl.front.export(t);e+=n.begin+n.content+n.end}),e=e.replace("<p>[","["),e=e.replace("]</p>","]"),e=e.replace("]<br />","]"),e=e.replace("]<br>","]"),e=e.replace("]\r\n","]"),e=e.replace("]\n","]"),e=e.replace("]\r","]"),e=e.replace("\r\n[","["),t("#content").val(e);try{tinyMCE.get("content").setContent(e)}catch(t){}t.post(mpl_ajax_url,{action:"mpl_instant_save",security:mpl_ajax_nonce,task:"frontend",title:mpl_post_title,id:parseInt(mpl_post_id,10),content:e},function(n){document.title=document.raw_title,"-1"==n?mpl.msg("Error: secure session is invalid. Reload and try again","error","sl-close"):"-2"==n?mpl.msg("Error: Post not exist","error","sl-close"):"-3"==n?mpl.msg("Error: You do not have permission to edit this post","error","sl-close"):mpl.msg("Successful","success","sl-check",100),t("#content").length>0&&(t("#content-html").trigger("click"),t("#content").val(e)),mpl.confirm(!1)}).complete(function(t){document.title=document.raw_title,200!==t.status&&mpl.msg("Your content has been saved, but there seems to be an error occurs. <br />Please check all of your code and make sure there are no errors. ","error","sl-close")})},export:function(e,n,o){var i;i=o||0===o?o:2;var l=mpl.storage[e][i];if(_.isUndefined(l))return null;if(_.isUndefined(l.name))return l.full;if(_.isUndefined(n)&&(n=[]),void 0!==mpl.maps[s])return l.full;var s=l.name,r=i;if("mpl_undefined"==s)return{begin:"",content:mpl.storage[e][r].args.content,end:""};if(void 0!==mpl.maps[s]&&!0===mpl.maps[s].is_container)for(;n.indexOf(l.name)>-1;)l.name+="#",l.end="[/"+l.name+"]";t("#model-"+e);var a=mpl.params.get_types(s),c="["+l.name,p="",m="";for(var d in l.args)"content"==d&&void 0===a[d]||(void 0!==a[d]&&"textarea_html"==a[d]?(l.args.content=switchEditors.wpautop(l.args.content),p=l.args.content):c+=" "+d+'="'+l.args[d]+'"');if(c+="]","mpl_section_html"==s)return{begin:c,content:mpl.storage[e][r].args.content,end:"[/mpl_section_html]"};if(void 0!==mpl.maps[s]&&!0===mpl.maps[s].is_container){if(n[n.length]=l.name,mpl.storage[e]){if(p="",i>0&&(i--,!_.isUndefined(e))){var u=mpl.front.export(e,t().extend([],n),i);p+=u.begin+u.content+u.end}mpl.storage[e][r].args.content=p}m="[/"+l.name+"]",mpl.storage[e][r].content=p,mpl.storage[e][r].end="[/"+s+"]"}return mpl.storage[e][r].name=s,{begin:c,content:p,end:m}},tools_group:function(t,e){return mpl._$('<div class="section-tools"><div class="section-name">'+t+".Section "+e+'</div><div class="tool-group"><ul><li class="tool-double"><i class="icon-double"><span>|</span></i></li><li class="tool-prev"><i class="icon-expand2"><span>|</span></i></li><li class="tool-next"><i  class="icon-expand1"><span>|</span></i></li><li class="tool-delete"><i  class="sl-close"><span>|</span></i></li><li class="tool-setting"><i  class="icon-content-setting"></i></li></ul></div></div>')},addToolsListener:function(){mpl.trigger({el:mpl._$("body"),events:{".mpl-elm:mouseenter":"load_tool",".mpl-elm:mouseleave":"unload_tool"},load_tool:function(t){var e,n=mpl._$,o=n(this).closest(".mpl-elm").data("front-model"),i=n(t.currentTarget),l=i.attr("class").split(" ")[mpl.front.section_name_pos].split("-");if(l.length>2){e="";for(var s=2;s<l.length;s++)e+=l[s].slice(0,1).toUpperCase()+l[s].slice(1)+" "}var r=mpl.front.tools_group(o,e);i.append(r),n(i).css({border:"2px dashed #86c724;"}),n(i).offset().top<100?n(i).find(".section-tools").css({top:"80px"}):n(i).find(".section-tools").css({top:"20px"}),mpl.trigger({el:mpl._$(".section-tools"),events:{".tool-double:click":"double",".tool-setting:click":"setting",".tool-delete:click":"delete",".tool-prev:click":"prev",".tool-next:click":"next"},double:function(t){var e=mpl._$,n=e(e(t.currentTarget).closest(".mpl-elm")).clone(!0),o=e(n).attr("class").split(" "),i=o[mpl.front.section_css_pos].replace(/mpl-css-/,"");e(n).attr("data-front-model",mpl.front.id+1),e(n).find(".section-tools")&&e(n).find(".section-tools").remove(),e(e(t.currentTarget).closest(".mpl-elm")).after(n);var l=mpl.front.backbone.double(this);o[mpl.front.section_css_pos]="mpl-css-"+l,e(n).attr("class",o.join(" "));for(var s=new RegExp("(((?![,{}]).)*)"+i+"(((?!body).)*)","g"),r=e("#mpl-css-render").html(),a=e("#mpl-css-render").html().match(s,""),c=0;c<a.length;c++){var _=new RegExp(i,"g");a[c]=a[c].replace(_,l)}e("#mpl-css-render").html(r+a.join(""))},setting:function(t){var e=mpl._$(t.currentTarget).closest(".mpl-elm"),n=mpl._$(e).attr("class").split(" ");mpl.section_name=n[mpl.front.section_name_pos].replace(/-/g,"_"),mpl.front.ui.elements.edit(this)},delete:function(t){var e=mpl._$,n=e(t.currentTarget).closest(".mpl-elm"),o=e(n).attr("class").split(" ")[mpl.front.section_css_pos].replace(/mpl-css-/,""),n=e(t.currentTarget).closest(".mpl-elm");mpl.msgbox("Are you sure you want to delete it?",function(t){var n=new RegExp("(((?![,{}]).)*)"+t.id+"(((?!body).)*)","g"),o=e("#mpl-css-render").html().replace(n,"");e("#mpl-css-render").html(o),e(t.section).remove()},{id:o,section:n})},prev:function(t){var e=mpl._$,n=e(e(t.currentTarget).closest(".mpl-elm")).prev(),o=e(e(t.currentTarget).closest(".mpl-elm"));e(n).before(o)},next:function(t){var e=mpl._$,n=e(e(t.currentTarget).closest(".mpl-elm")).next(),o=e(e(t.currentTarget).closest(".mpl-elm"));e(n).after(o)}})},unload_tool:function(t){mpl._$(t.currentTarget).find(".section-tools").remove(),mpl._$(t.currentTarget).css({border:""})}})}},mpl.front)}(jQuery);